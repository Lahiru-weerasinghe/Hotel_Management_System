{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lahiru Weerasinghe\\\\Desktop\\\\Huwamaruwa-Android-App-Production\\\\ITP_PROJECT\\\\ITP_PROJECT\\\\frontend\\\\src\\\\components\\\\finance\\\\EditBasicSalary.js\";\nimport axios from 'axios';\nimport React, { Component, useState } from 'react';\nimport NavBar from '../NavBar';\n/**\r\n* @author\r\n* @class EditBasicSalary\r\n**/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EditBasicSalary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({ ...this.state,\n        [name]: value\n      });\n    };\n\n    this.validate = () => {\n      let designationError = \"\";\n      let levelError = \"\";\n      let amountError = \"\";\n\n      if (!this.state.designation) {\n        designationError = \"Designation is required\";\n      }\n\n      if (!this.state.level) {\n        levelError = \"Level is required\";\n      }\n\n      if (!this.state.amount) {\n        amountError = \"Amount is required\";\n      }\n\n      if (designationError || levelError || amountError) {\n        // this.state = {designationError: designationError, levelError: levelError, amountError: amountError};\n        this.setState({\n          designationError: designationError,\n          levelError: levelError,\n          amountError: amountError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        const id = this.props.match.params.id;\n        const {\n          designation,\n          level,\n          date,\n          amount\n        } = this.state;\n        const data = {\n          designation: designation,\n          level: level,\n          date: date,\n          amount: amount\n        }; //console.log(data);\n\n        axios.put(`/basicSalary/update/${id}`, data).then(res => {\n          if (res.data.success) {\n            alert(\"Record Updated Successfully!\");\n            this.setState({\n              designation: \"\",\n              level: \"\",\n              date: data.date,\n              amount: \"\",\n              designationError: \"\",\n              levelError: \"\",\n              amountError: \"\"\n            });\n          }\n        });\n      } else {// console.log(this.state)\n        //alert('Re-check and submit again');\n      }\n    };\n\n    this.state = {\n      designation: \"\",\n      level: \"\",\n      date: \"\",\n      amount: \"\",\n      designationError: \"\",\n      levelError: \"\",\n      amountError: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios.get(`/basicSalary/${id}`).then(res => {\n      if (res.data.success) {\n        this.setState({\n          designation: res.data.BasicSalary.designation,\n          level: res.data.BasicSalary.level,\n          date: res.data.BasicSalary.date,\n          amount: res.data.BasicSalary.amount\n        }); // console.log(this.state.BasicSalary);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 mt-4 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"h3 mb-3 font-weight-normal\",\n          children: \"Update Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"needs-validation\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Designation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"designation\",\n              placeholder: \"Enter Designation\",\n              value: this.state.designation,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.designationError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"level\",\n              value: this.state.level,\n              onChange: this.handleInputChange,\n              className: \"form-select\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Senior\",\n                children: \"Senior\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Junior\",\n                children: \"Junior\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Intern\",\n                children: \"Intern\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.levelError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: \"Date cannot be updated\",\n              className: \"form-control\",\n              name: \"date\",\n              value: this.state.date,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'orange',\n                fontSize: 12\n              },\n              children: \"Date cannot be changed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Amount (Rs)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"real\",\n              className: \"form-control\",\n              name: \"amount\",\n              placeholder: \"0.00\",\n              value: this.state.amount,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.amountError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            type: \"submit\",\n            style: {\n              marginTop: '15px'\n            },\n            onClick: this.onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-check-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 29\n            }, this), \"Update\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/finance/basicsalary\",\n            class: \"btn btn-outline-success\",\n            style: {\n              marginTop: '15px'\n            },\n            tabindex: \"-1\",\n            role: \"button\",\n            \"aria-disabled\": \"true\",\n            children: \"Back to List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lahiru Weerasinghe/Desktop/Huwamaruwa-Android-App-Production/ITP_PROJECT/ITP_PROJECT/frontend/src/components/finance/EditBasicSalary.js"],"names":["axios","React","Component","useState","NavBar","EditBasicSalary","constructor","props","handleInputChange","e","name","value","target","setState","state","validate","designationError","levelError","amountError","designation","level","amount","onSubmit","preventDefault","isValid","id","match","params","date","data","put","then","res","success","alert","componentDidMount","get","BasicSalary","render","marginBottom","color","fontSize","marginTop"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component, useState } from 'react';\r\nimport NavBar from '../NavBar';\r\n\r\n/**\r\n* @author\r\n* @class EditBasicSalary\r\n**/\r\n\r\nexport default class EditBasicSalary extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            designation: \"\",\r\n            level: \"\",\r\n            date: \"\",\r\n            amount: \"\",\r\n            designationError: \"\",\r\n            levelError: \"\",\r\n            amountError: \"\"\r\n        }\r\n    }\r\n\r\n    handleInputChange =(e) => {\r\n        const {name, value} = e.target;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n\r\n    validate = () => {\r\n        let designationError = \"\";\r\n        let levelError =  \"\";\r\n        let amountError =  \"\";\r\n\r\n        if(!this.state.designation){\r\n            designationError = \"Designation is required\"\r\n        }\r\n        if(!this.state.level){\r\n            levelError = \"Level is required\"\r\n        }\r\n        if(!this.state.amount){\r\n            amountError = \"Amount is required\"\r\n        }\r\n\r\n        if(designationError || levelError || amountError){\r\n            // this.state = {designationError: designationError, levelError: levelError, amountError: amountError};\r\n            this.setState(\r\n                {\r\n                    designationError: designationError,\r\n                    levelError: levelError,\r\n                    amountError: amountError\r\n                }\r\n            )\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const isValid = this.validate();\r\n\r\n        if(isValid){\r\n\r\n            const id = this.props.match.params.id;\r\n\r\n            const {designation, level, date, amount} = this.state;\r\n\r\n            const data = {\r\n                designation: designation,\r\n                level: level,\r\n                date: date,\r\n                amount: amount\r\n            }\r\n\r\n\r\n            //console.log(data);\r\n            axios.put(`/basicSalary/update/${id}`, data).then((res) => {\r\n                if(res.data.success){\r\n                    alert(\"Record Updated Successfully!\");\r\n                    this.setState(\r\n                        {\r\n                            designation: \"\",\r\n                            level: \"\",\r\n                            date: data.date,\r\n                            amount: \"\",\r\n                            designationError: \"\",\r\n                            levelError: \"\",\r\n                            amountError: \"\"\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            // console.log(this.state)\r\n            //alert('Re-check and submit again');\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        const id = this.props.match.params.id;\r\n\r\n        axios.get(`/basicSalary/${id}`).then((res) =>{\r\n            if(res.data.success){\r\n                this.setState({\r\n                    designation: res.data.BasicSalary.designation,\r\n                    level: res.data.BasicSalary.level,\r\n                    date: res.data.BasicSalary.date,\r\n                    amount: res.data.BasicSalary.amount\r\n                });\r\n\r\n                // console.log(this.state.BasicSalary);\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n            <div className = \"container\" >\r\n            <NavBar/>\r\n            <div className=\"col-md-8 mt-4 mx-auto\"> \r\n                <br/>\r\n                <h3 className=\"h3 mb-3 font-weight-normal\">Update Record</h3> \r\n    \r\n                    <form className=\"needs-validation\" noValidate>\r\n                        <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                            <label style={{marginBottom: '5px'}}>Designation</label>\r\n                            <input \r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"designation\"\r\n                            placeholder=\"Enter Designation\"\r\n                            value={this.state.designation}\r\n                            onChange={this.handleInputChange} />\r\n                            \r\n                            <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.designationError}\r\n                            </div> \r\n                            \r\n                        </div>\r\n                        {/* ------------------------------------------------------------ */}\r\n                        <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n    \r\n                            <label style={{marginBottom: '5px'}}>Level</label>\r\n                            <select  name=\"level\" value={this.state.level} onChange={this.handleInputChange} className=\"form-select\" required>\r\n                                <option value=\"\" >Select...</option>\r\n                                <option value=\"Senior\" >Senior</option>\r\n                                <option value=\"Junior\">Junior</option>\r\n                                <option value=\"Intern\">Intern</option>\r\n                            </select>\r\n\r\n\r\n                            \r\n                            <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.levelError}\r\n                            </div> \r\n                            \r\n                        \r\n                            {/* <input \r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            name=\"level\"\r\n                            value={this.state.level}\r\n                            onChange={this.handleInputChange} /> */}\r\n    \r\n                        </div>\r\n                        {/* --------------------------------------------------------------------- */}\r\n    \r\n                        <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                            <label style={{marginBottom: '5px'}}>Date</label>\r\n                            <input \r\n                            type=\"text\"\r\n                            value=\"Date cannot be updated\"\r\n                            className=\"form-control\"\r\n                            name=\"date\"\r\n                            value={this.state.date}\r\n                            readOnly\r\n                             />\r\n                            <div style={{color: 'orange', fontSize: 12}}>Date cannot be changed</div> \r\n                        </div>\r\n    \r\n                        {/* ------------------------------------------------------------------------ */}\r\n    \r\n                        <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                            <label style={{marginBottom: '5px'}}>Amount (Rs)</label>\r\n                            <input \r\n                            type=\"real\"\r\n                            className=\"form-control\"\r\n                            name=\"amount\"\r\n                            placeholder=\"0.00\"\r\n                            value={this.state.amount}\r\n                            onChange={this.handleInputChange} />\r\n\r\n                            <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.amountError}\r\n                            </div> \r\n                            \r\n                        </div>                   \r\n                        {/* ------------------------------------------------------------------- */}\r\n                        \r\n                        <button className=\"btn btn-success\" type=\"submit\" style={{marginTop: '15px'}} onClick={this.onSubmit}>\r\n                            <i className=\"far fa-check-square\"></i>\r\n                            Update\r\n                        </button>\r\n                        &nbsp;&nbsp;\r\n                        <a href=\"/finance/basicsalary\" class=\"btn btn-outline-success\" style={{marginTop: '15px'}} tabindex=\"-1\" role=\"button\" aria-disabled=\"true\">Back to List</a>\r\n                    \r\n\r\n    \r\n                    </form>\r\n            </div>\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}