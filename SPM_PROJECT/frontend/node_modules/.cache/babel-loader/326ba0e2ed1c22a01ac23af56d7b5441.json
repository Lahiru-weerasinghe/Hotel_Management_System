{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sachi\\\\Desktop\\\\ITP\\\\ITP_PROJECT\\\\frontend\\\\src\\\\components\\\\finance\\\\EditIncomeExpenditure.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport NavBar from '../NavBar';\n/**\r\n* @author\r\n* @class EditIncomeExpenditure\r\n**/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EditIncomeExpenditure extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({ ...this.state,\n        [name]: value\n      });\n    };\n\n    this.validate = () => {\n      let titleError = \"\";\n      let typeError = \"\";\n      let transaction_dateError = \"\";\n      let amountError = \"\";\n      var date = this.state.transaction_date;\n      var varDate = new Date(date); //dd-mm-YYYY\n\n      var today = new Date();\n\n      if (!this.state.title) {\n        titleError = \"Title is required\";\n      }\n\n      if (!this.state.type) {\n        typeError = \"Type is required\";\n      }\n\n      if (!this.state.transaction_date) {\n        transaction_dateError = \"Date is required\";\n      } else if (varDate > today) {\n        transaction_dateError = \"Valid date is required\";\n      }\n\n      if (!this.state.amount) {\n        amountError = \"Amount is required\";\n      } else if (isNaN(this.state.amount)) {\n        amountError = \"Amount should be a number\";\n      }\n\n      if (titleError || typeError || transaction_dateError || amountError) {\n        this.setState({\n          titleError: titleError,\n          typeError: typeError,\n          transaction_dateError: transaction_dateError,\n          amountError: amountError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        const id = this.props.match.params.id;\n        const {\n          title,\n          type,\n          description,\n          transaction_date,\n          amount\n        } = this.state;\n        const data = {\n          title: title,\n          type: type,\n          description: description,\n          transaction_date: new Date(transaction_date).toLocaleDateString(),\n          amount: amount\n        }; //console.log(data);\n\n        axios.put(`/income_expenditure/update/${id}`, data).then(res => {\n          if (res.data.success) {\n            alert(\"Record Updated Successfully!\");\n            this.setState({\n              title: \"\",\n              type: \"\",\n              description: \"\",\n              transaction_date: \"\",\n              amount: \"\",\n              titleError: \"\",\n              typeError: \"\",\n              transaction_dateError: \"\",\n              amountError: \"\"\n            });\n          }\n        });\n      } else {// console.log(this.state)\n        //alert('Re-check and submit again');\n      }\n    };\n\n    this.state = {\n      title: \"\",\n      type: \"\",\n      description: \"\",\n      transaction_date: \"\",\n      amount: \"\",\n      titleError: \"\",\n      typeError: \"\",\n      transaction_dateError: \"\",\n      amountError: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios.get(`/income_expenditure/${id}`).then(res => {\n      if (res.data.success) {\n        this.setState({\n          title: res.data.Income_Expenditure.title,\n          type: res.data.Income_Expenditure.type,\n          description: res.data.Income_Expenditure.description,\n          transaction_date: new Date(res.data.Income_Expenditure.transaction_date).toLocaleDateString(),\n          amount: res.data.Income_Expenditure.amount\n        });\n        console.log(this.state.Income_Expenditure);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 mt-4 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"h3 mb-3 font-weight-normal\",\n          children: \"Update Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"needs-validation\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"title\",\n              placeholder: \"Enter Title\",\n              value: this.state.title,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.titleError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"type\",\n              value: this.state.type,\n              onChange: this.handleInputChange,\n              className: \"form-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Income\",\n                children: \"Income\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Expense\",\n                children: \"Expense\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.typeError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Desription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"description\",\n              placeholder: \"Enter Description\",\n              value: this.state.description,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"date\",\n              value: this.state.transaction_date,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.transaction_dateError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginBottom: '5px'\n              },\n              children: \"Amount (Rs)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"real\",\n              className: \"form-control\",\n              name: \"amount\",\n              placeholder: \"0.00\",\n              value: this.state.amount,\n              onChange: this.handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                fontSize: 12\n              },\n              children: this.state.amountError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            type: \"submit\",\n            style: {\n              marginTop: '15px'\n            },\n            onClick: this.onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-check-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 25\n            }, this), \"Update\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/finance/incomeexpenditure\",\n            class: \"btn btn-outline-success\",\n            style: {\n              marginTop: '15px'\n            },\n            tabindex: \"-1\",\n            role: \"button\",\n            \"aria-disabled\": \"true\",\n            children: \"Back to List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/sachi/Desktop/ITP/ITP_PROJECT/frontend/src/components/finance/EditIncomeExpenditure.js"],"names":["React","Component","axios","NavBar","EditIncomeExpenditure","constructor","props","handleInputChange","e","name","value","target","setState","state","validate","titleError","typeError","transaction_dateError","amountError","date","transaction_date","varDate","Date","today","title","type","amount","isNaN","onSubmit","preventDefault","isValid","id","match","params","description","data","toLocaleDateString","put","then","res","success","alert","componentDidMount","get","Income_Expenditure","console","log","render","marginBottom","color","fontSize","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from '../NavBar';\r\n\r\n/**\r\n* @author\r\n* @class EditIncomeExpenditure\r\n**/\r\n\r\nexport default class EditIncomeExpenditure extends Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            title: \"\",\r\n            type: \"\",\r\n            description: \"\",\r\n            transaction_date: \"\",\r\n            amount: \"\",\r\n            titleError: \"\",\r\n            typeError: \"\",\r\n            transaction_dateError: \"\",\r\n            amountError: \"\"\r\n        }\r\n    }\r\n\r\n    handleInputChange =(e) => {\r\n        const {name, value} = e.target;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    validate = () => {\r\n        let titleError = \"\";\r\n        let typeError =  \"\";\r\n        let transaction_dateError = \"\";\r\n        let amountError =  \"\";\r\n        var date = this.state.transaction_date;\r\n        var varDate = new Date(date); //dd-mm-YYYY\r\n        var today = new Date();\r\n\r\n        if(!this.state.title){\r\n            titleError = \"Title is required\"\r\n        }\r\n        if(!this.state.type){\r\n            typeError = \"Type is required\"\r\n        }\r\n\r\n        if(!this.state.transaction_date){\r\n            transaction_dateError = \"Date is required\"\r\n        }\r\n        else if(varDate > today){\r\n            transaction_dateError = \"Valid date is required\"\r\n        }\r\n\r\n        if(!this.state.amount){\r\n            amountError = \"Amount is required\"\r\n        }\r\n        else if(isNaN(this.state.amount)){\r\n            amountError = \"Amount should be a number\"\r\n        }\r\n\r\n        if(titleError || typeError || transaction_dateError || amountError){\r\n            \r\n            this.setState(\r\n                {\r\n                    titleError: titleError,\r\n                    typeError: typeError,\r\n                    transaction_dateError: transaction_dateError,\r\n                    amountError: amountError\r\n                }\r\n            )\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const isValid = this.validate();\r\n\r\n        if(isValid){\r\n\r\n            const id = this.props.match.params.id;\r\n\r\n            const {title, type, description, transaction_date, amount} = this.state;\r\n\r\n            const data = {\r\n                title: title,\r\n                type: type,\r\n                description: description,\r\n                transaction_date: new Date(transaction_date).toLocaleDateString(),\r\n                amount: amount\r\n            }\r\n\r\n            //console.log(data);\r\n            axios.put(`/income_expenditure/update/${id}`, data).then((res) => {\r\n                if(res.data.success){\r\n                    alert(\"Record Updated Successfully!\");\r\n                    this.setState(\r\n                        {\r\n                            title: \"\",\r\n                            type: \"\",\r\n                            description: \"\",\r\n                            transaction_date: \"\",\r\n                            amount: \"\",\r\n                            titleError: \"\",\r\n                            typeError: \"\",\r\n                            transaction_dateError: \"\",\r\n                            amountError: \"\"\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            // console.log(this.state)\r\n            //alert('Re-check and submit again');\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const id = this.props.match.params.id;\r\n\r\n        axios.get(`/income_expenditure/${id}`).then((res) =>{\r\n            if(res.data.success){\r\n                this.setState({\r\n                    title: res.data.Income_Expenditure.title,\r\n                    type: res.data.Income_Expenditure.type,\r\n                    description: res.data.Income_Expenditure.description,\r\n                    transaction_date: new Date(res.data.Income_Expenditure.transaction_date).toLocaleDateString(),\r\n                    amount: res.data.Income_Expenditure.amount\r\n                });\r\n\r\n                console.log(this.state.Income_Expenditure);\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() {\r\n    return(\r\n        <div className = \"container\" >\r\n        <NavBar/>\r\n        <div className=\"col-md-8 mt-4 mx-auto\"> \r\n            <br/>\r\n            <h3 className=\"h3 mb-3 font-weight-normal\">Update Record</h3> \r\n\r\n                <form className=\"needs-validation\" noValidate>\r\n                    <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                        <label style={{marginBottom: '5px'}}>Title</label>\r\n                        <input \r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"title\"\r\n                        placeholder=\"Enter Title\"\r\n                        value={this.state.title}\r\n                        onChange={this.handleInputChange} />\r\n\r\n                        <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.titleError}\r\n                        </div>\r\n                    </div>\r\n                    {/* ------------------------------------------------------------ */}\r\n                    <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n\r\n                        <label style={{marginBottom: '5px'}}>Type</label>\r\n                        <select  name=\"type\" value={this.state.type} onChange={this.handleInputChange} className=\"form-select\">\r\n                            <option value=\"\" >Select...</option>\r\n                            <option value=\"Income\" >Income</option>\r\n                            <option value=\"Expense\">Expense</option>\r\n                        </select>\r\n                        <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.typeError}\r\n                        </div> \r\n\r\n                    </div>\r\n                    {/* --------------------------------------------------------------------- */}\r\n\r\n                    <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                        <label style={{marginBottom: '5px'}}>Desription</label>\r\n                        <input \r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"description\"\r\n                        placeholder=\"Enter Description\"\r\n                        value={this.state.description}\r\n                        onChange={this.handleInputChange} />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                        <label style={{marginBottom: '5px'}}>Date</label>\r\n                        <input \r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"date\"\r\n                        value={this.state.transaction_date}\r\n                        onChange={this.handleInputChange} />\r\n\r\n                        <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.transaction_dateError}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* ------------------------------------------------------------------------ */}\r\n\r\n                    <div className=\"form-group\" style={{marginBottom: '15px'}}>\r\n                        <label style={{marginBottom: '5px'}}>Amount (Rs)</label>\r\n                        <input \r\n                        type=\"real\"\r\n                        className=\"form-control\"\r\n                        name=\"amount\"\r\n                        placeholder=\"0.00\"\r\n                        value={this.state.amount}\r\n                        onChange={this.handleInputChange} />\r\n\r\n                        <div style={{color: 'red', fontSize: 12}}>\r\n                                {this.state.amountError}\r\n                        </div>\r\n                    </div>                   \r\n                    {/* ------------------------------------------------------------------- */}\r\n                    \r\n                    <button className=\"btn btn-success\" type=\"submit\" style={{marginTop: '15px'}} onClick={this.onSubmit}>\r\n                        <i className=\"far fa-check-square\"></i>\r\n                        Update\r\n                    </button>\r\n                    &nbsp;&nbsp;\r\n                    <a href=\"/finance/incomeexpenditure\" class=\"btn btn-outline-success\" style={{marginTop: '15px'}} tabindex=\"-1\" role=\"button\" aria-disabled=\"true\">Back to List</a>\r\n                    \r\n\r\n                </form>\r\n        </div>\r\n        </div>\r\n    )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}